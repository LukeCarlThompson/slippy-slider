var slippyslider=function(){"use strict";return function(e){var t=this;void 0===e&&(e={});var r=e.slider;void 0===r&&(r=".slippy-slider");var s=e.track;void 0===s&&(s=".slippy-slider__track");var i=e.slides;void 0===i&&(i=".slippy-slider__slide");var n=e.center;void 0===n&&(n=!0);var o=i,l=function(e){return Array.prototype.slice.call(e)};if(this.slider=document.querySelector(r),!this.slider)return console.error("Please specify a slider target");if(this.track=this.slider.querySelector(s),!this.track)return console.error("Cannot find slippy-slider__track");if(this.slides=l(this.slider.querySelectorAll(o)),0===!this.slides.length)return console.error("Please specify a the slider slides");this.center=n,this.updateSlides=function(){return t.slides=l(t.slider.querySelectorAll(o))},console.log("%cReady to get Slippy  ðŸ˜Ž%c","color: black; font-family: sans-serif; font-weight: bold; font-style: italic; font-size: 20px; text-shadow: 1px 1px 0 white; padding: 10px 20px; background: linear-gradient(90deg, #00C9FF 0%, #92FE9D 100%); border-radius: 4px;","font-size: 20px;");var a=function(e){var r=e.getBoundingClientRect();return t.center?r.left+r.width/2:r.left},c=function(e){return t.slides.map(function(t){return t.classList.remove(e)})},d=function(e){void 0===e&&(e="active"),console.log("findSlide");var r=a(t.slider),s=t.slides.map(function(e,t){return{index:t,position:a(e),scrollOffset:a(e)-r,slide:e}});if(!isNaN(e)&&s.length>=e)return s[e];var i=l(s).sort(function(e,t){return Math.abs(e.position-r)-Math.abs(t.position-r)})[0];return"next"===e?s[i.index+1]||s[0]:"prev"===e?s[i.index-1]||s.slice(-1)[0]:i};this.moveTo=function(e,r){console.log("moveTo");var s=d(e).scrollOffset,i=(s+(t.track.getBoundingClientRect().left-t.slides[0].getBoundingClientRect().left))/t.track.clientWidth*100;t.track.style.transition="transform 0.5s cubic-bezier(0.5, 0, 0.5, 1)",t.track.style.transform="translate3d("+-1*s+"px, 0, 0)",t.track.addEventListener("transitionend",function(){t.track.style.transform="",t.track.style.transition="",t.slides.forEach(function(e){return e.style.left=-1*i+"%"})})};var u={root:this.slider,threshold:[0,.5,1],rootMargin:"100px 0px 100px 0px"},f=new IntersectionObserver(function(e,r){for(var s=0;s<e.length;s++){var i=e[s],n=i.target;i.intersectionRatio>=.49?(console.log("on-screen",n),n.classList.add("on-screen")):(console.log("removed on-screen",n),n.classList.remove("on-screen")),t.center||(c("active-slide"),d("active").slide.classList.add("active-slide"))}},u);if(this.slides.forEach(function(e){return f.observe(e)}),this.center){var v={root:this.slider,threshold:0,rootMargin:"100px -50% 100px -50%"},h=new IntersectionObserver(function(e,t){for(var r=0;r<e.length;r++){var s=e[r],i=s.target;s.isIntersecting?i.classList.add("active-slide"):i.classList.remove("active-slide")}},v);this.slides.forEach(function(e){return h.observe(e)})}var p=!1,g=0,y=0,k=null,m=function(e){console.log("startDrag"),e.stopPropagation(),p=!0,g=e.pageX,k=t.track.getBoundingClientRect().left-t.slides[0].getBoundingClientRect().left},x=function(e){p&&(y=g-e.pageX+k,t.slides.forEach(function(e){return e.style.left=""}),t.track.style.transform="translateX("+-1*y+"px)")},E=function(e){e.stopPropagation(),p&&0!==y&&(t.track.style.transform="",t.slides.forEach(function(e){return e.style.left=-1*y+"px"}),t.moveTo("active"),y=0,p=!1)};this.track.addEventListener("touchstart",m),this.track.addEventListener("touchmove",x),this.track.addEventListener("touchend",E),this.track.addEventListener("mousedown",m),this.track.addEventListener("mousemove",x),this.track.addEventListener("mouseup",E),this.track.addEventListener("mouseout",E)}}();