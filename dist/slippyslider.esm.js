function slippySlider(e){var t=this;void 0===e&&(e={});var r=e.slider;void 0===r&&(r=".slippy-slider");var i=e.track;void 0===i&&(i=".slippy-slider__track");var s=e.slides;void 0===s&&(s=".slippy-slider__slide");var n=e.center;void 0===n&&(n=!0);var o=s,l=function(e){return Array.prototype.slice.call(e)};if(this.slider=document.querySelector(r),!this.slider)return console.error("Please specify a slider target");if(this.track=this.slider.querySelector(i),!this.track)return console.error("Cannot find slippy-slider__track");if(this.slides=l(this.slider.querySelectorAll(o)),0===!this.slides.length)return console.error("Please specify a the slider slides");this.center=n,this.updateSlides=function(){return t.slides=l(t.slider.querySelectorAll(o))},console.log("%cReady to get Slippy  ðŸ˜Ž%c","color: black; font-family: sans-serif; font-weight: bold; font-style: italic; font-size: 20px; text-shadow: 1px 1px 0 white; padding: 10px 20px; background: linear-gradient(90deg, #00C9FF 0%, #92FE9D 100%); border-radius: 4px;","font-size: 20px;");var a=this.center?"center":"start";this.slider.style.setProperty("--scroll-snap-align",a);var c=function(e){var r=e.getBoundingClientRect();return t.center?r.left+r.width/2:r.left},d=function(e){return t.slides.map(function(t){return t.classList.remove(e)})},u=function(){console.log("disabled snapping")},f=function(e){void 0===e&&(e="active"),console.log("findSlide");var r=c(t.slider),i=t.slides.map(function(e,t){return{index:t,position:c(e),scrollOffset:c(e)-r,slide:e}});if(!isNaN(e)&&i.length>=e)return i[e];var s=l(i).sort(function(e,t){return Math.abs(e.position-r)-Math.abs(t.position-r)})[0];return"next"===e?i[s.index+1]||i[0]:"prev"===e?i[s.index-1]||i.slice(-1)[0]:s};this.easing={inOutQuad:function(e){return e<.5?2*e*e:(4-2*e)*e-1},inOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},inOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},inOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}},this.moveTo=function(e,r){void 0===r&&(r=800),console.log("moveTo");var i=!1,s=null,n=f(e).scrollOffset,o=n+t.slider.scrollLeft,l=function(e){if(i)return console.log("enabled snapping"),t.track.style.transform="",void(t.slider.scrollLeft=o);e-s>=r&&(i=!0);var a=(e-s)/r,c=t.easing.inOutCubic(a),d=-1*(0+(n-0)*c);t.track.style.transform="translate3d("+d+"px, 0, 0)",requestAnimationFrame(l)};requestAnimationFrame(function(e){s=e,u(),l(e)})};var v={root:this.slider,threshold:[0,.5,1],rootMargin:"100px 0px 100px 0px"},p=new IntersectionObserver(function(e,r){for(var i=0;i<e.length;i++){var s=e[i],n=s.target;s.intersectionRatio>=.49?(console.log("on-screen",n),n.classList.add("on-screen")):(console.log("removed on-screen",n),n.classList.remove("on-screen")),t.center||(d("active-slide"),f("active").slide.classList.add("active-slide"))}},v);if(this.slides.forEach(function(e){return p.observe(e)}),this.center){var h={root:this.slider,threshold:0,rootMargin:"100px -50% 100px -50%"},g=new IntersectionObserver(function(e,t){for(var r=0;r<e.length;r++){var i=e[r],s=i.target;i.isIntersecting?s.classList.add("active-slide"):s.classList.remove("active-slide")}},h);this.slides.forEach(function(e){return g.observe(e)})}var m=!1,y=0,x=0,L=null,k=!1,b=!0,E=function(e){console.log("startDrag"),e.stopPropagation(),k?k=!0:(m=!0,y=e.pageX,L=t.slider.scrollLeft)},O=function(e){console.log("drag"),m&&(b&&(u(),b=!1),x=y-e.pageX+L,t.slider.scrollLeft=x)},S=function(e){console.log("endDrag"),e.stopPropagation(),m&&0!==x&&(t.moveTo("active"),x=0,b=!0),m=!1};this.track.addEventListener("touchstart",E),this.track.addEventListener("touchmove",O),this.track.addEventListener("touchend",S),this.track.addEventListener("mousedown",E),this.track.addEventListener("mousemove",O),this.track.addEventListener("mouseup",S),this.track.addEventListener("mouseout",S)}export default slippySlider;